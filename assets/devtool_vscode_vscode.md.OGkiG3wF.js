import{_ as i,c as a,o as t,ag as e}from"./chunks/framework.ko2zIC2c.js";const n="/assets/profile-gear-two-letters.BOJzjt9L.png",l="/assets/profile-location.sa3MK-mA.jpg",h="/assets/my-profile.trgB4VWc.jpg",F=JSON.parse('{"title":"VSCode 一些使用","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"devtool/vscode/vscode.md","filePath":"devtool/vscode/vscode.md","lastUpdated":1755590683000}'),p={name:"devtool/vscode/vscode.md"};function r(d,s,k,o,c,g){return t(),a("div",null,s[0]||(s[0]=[e('<h1 id="vscode-yi-xie-shi-yong" tabindex="-1">VSCode 一些使用 <a class="header-anchor" href="#vscode-yi-xie-shi-yong" aria-label="Permalink to &quot;VSCode 一些使用&quot;">​</a></h1><h2 id="an-zhuang-li-shi-ban-ben" tabindex="-1">安装历史版本 <a class="header-anchor" href="#an-zhuang-li-shi-ban-ben" aria-label="Permalink to &quot;安装历史版本&quot;">​</a></h2><p>参考 <a href="https://code.visualstudio.com/docs/supporting/faq#_previous-release-versions" target="_blank" rel="noreferrer"><em>Previous release versions</em></a> 获取历史版本</p><table tabindex="0"><thead><tr><th>Download type</th><th>platform</th><th>URL</th></tr></thead><tbody><tr><td>macOS Apple silicon</td><td>darwin-arm64</td><td><a href="https://update.code.visualstudio.com/%7Bversion%7D/darwin-arm64/stable" target="_blank" rel="noreferrer">https://update.code.visualstudio.com/{version}/darwin-arm64/stable</a></td></tr><tr><td>Linux x64</td><td>linux-x64</td><td><a href="https://update.code.visualstudio.com/%7Bversion%7D/linux-x64/stable" target="_blank" rel="noreferrer">https://update.code.visualstudio.com/{version}/linux-x64/stable</a></td></tr><tr><td>Linux x64 debian</td><td>linux-x64-deb</td><td><a href="https://update.code.visualstudio.com/%7Bversion%7D/linux-deb-x64/stable" target="_blank" rel="noreferrer">https://update.code.visualstudio.com/{version}/linux-deb-x64/stable</a></td></tr><tr><td>Windows x64 User installer</td><td>win32-x64-user</td><td><a href="https://update.code.visualstudio.com/1.98.1/win32-x64-user/stable" target="_blank" rel="noreferrer">https://update.code.visualstudio.com/1.98.1/win32-x64-user/stable</a></td></tr><tr><td>Windows x64 zip</td><td>win32-x64-archive</td><td><a href="https://update.code.visualstudio.com/%7Bversion%7D/win32-x64-archive/stable" target="_blank" rel="noreferrer">https://update.code.visualstudio.com/{version}/win32-x64-archive/stable</a></td></tr></tbody></table><p>例如下载 1.85.0 版本的 macOS Apple silicon / Windows x64 zip版本，可以使用如下命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.85.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; PLATFORM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;darwin-arm64&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vscode-${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PLATFORM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}-${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.zip&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://update.code.visualstudio.com/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PLATFORM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/stable&quot;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.85.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; PLATFORM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;win32-x64-archive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vscode-${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PLATFORM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}-${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.zip&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://update.code.visualstudio.com/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PLATFORM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/stable&quot;</span></span></code></pre></div><h2 id="pei-zhi-wen-jian-profiles" tabindex="-1">⚙️ 配置文件 Profiles <a class="header-anchor" href="#pei-zhi-wen-jian-profiles" aria-label="Permalink to &quot;⚙️ 配置文件 Profiles&quot;">​</a></h2><p>VSCode 本质上是一个代码编辑器(Editor)，需要通过各种配置、插件、主题等来满足不同开发者的需求。但是，<strong>如果需要开发多种语言，则可能需要安装很多插件，导致每次启动 VSCode 时都需要加载很多插件，影响启动速度</strong>，这也是 VSCode 一个很严重的缺点，插件过多导致 VSCode 过于臃肿，长期被诟病。</p><p>然而在 <a href="https://code.visualstudio.com/updates/v1_81" target="_blank" rel="noreferrer">VSCode 1.81</a> 中开始引入了 <a href="https://code.visualstudio.com/updates/v1_81#_profiles" target="_blank" rel="noreferrer">Profiles（配置文件）</a> 功能，可以通过配置不同的 Profiles 来管理不同的开发环境，为每一种语言配置开发环境成为了可能，这可以使得在启动 VSCode 时只加载当前开发环境所需的插件，从而提高启动速度，避免加载过多插件导致的臃肿。</p><p><img src="'+n+`" alt=""></p><p>此外，Profiles 还支持云同步，可以在不同的设备上同步配置，使得在不同设备上的开发环境保持一致。也可以导出配置文件分享给其他人。</p><p>关于 Profiles 的细节可以参考官方的文档：<a href="https://code.visualstudio.com/docs/editor/profiles" target="_blank" rel="noreferrer"><em>Profiles in Visual Studio Code</em></a></p><p>可以说，Profiles 是 VSCode 一个里程碑式的更新，避免了 VSCode 变得臃肿，并使其更加轻量化。如果你还不知道这个功能，请一定要好好了解一下。</p><p>这里有一些建议可以参考</p><ul><li>Profiles 有一个 Default Profile，可以用来配置一些<strong>通用插件</strong>和<strong>通用配置</strong>，然后新建 Profile 时可以基于 Default Profile 来创建，避免从头开始，因此需要好好规划 Default Profile 的配置。下面是一些通用插件和配置的例子。 <ul><li><p>通用插件推荐：</p><ul><li><a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one" target="_blank" rel="noreferrer"><code>Markdown All in One</code></a>：Markdown 编辑</li><li><a href="https://marketplace.visualstudio.com/items?itemName=bierner.markdown-preview-github-styles" target="_blank" rel="noreferrer"><code>Markdown Preview Github Styling</code></a>：Github 风格的 Markdown 预览</li><li><a href="https://marketplace.visualstudio.com/items?itemName=GitHub.github-vscode-theme" target="_blank" rel="noreferrer"><code>GitHub Theme</code></a>, <a href="https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme" target="_blank" rel="noreferrer"><code>Material Icon Theme</code></a>：比较喜欢的主题和图标</li><li><a href="https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph" target="_blank" rel="noreferrer"><code>Git Graph</code></a>, <a href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory" target="_blank" rel="noreferrer"><code>Git History</code></a>：Git 相关的可视化工具</li><li><a href="https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree" target="_blank" rel="noreferrer"><code>Todo Tree</code></a>：Todo 标记</li><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.remote-explorer" target="_blank" rel="noreferrer"><code>Remote Explorer</code></a>, <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh" target="_blank" rel="noreferrer"><code>Remote - SSH</code></a>, <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh-edit" target="_blank" rel="noreferrer"><code>Remote - SSH：Editing Configuration Files</code></a>：这三个都是用于(SSH)远程开发的插件</li><li><a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot" target="_blank" rel="noreferrer"><code>GitHub Copilot</code></a>：AI 代码助手</li></ul></li><li><p>通用配置（一些常用的例子）:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;files.autoSave&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afterDelay&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// -- 自动保存策略</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;editor.fontSize&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul></li></ul><p>这是我的 Profiles 配置，可以看到我有一个 <code>Default</code>，然后基于默认配置，去创建其他配置，在浏览简单文档或markdown时，可以使用默认配置，避免加载过多插件</p><p><img src="`+l+'" alt=""></p><p><img src="'+h+`" alt=""></p><h2 id="kuai-jie-jian" tabindex="-1">快捷键 <a class="header-anchor" href="#kuai-jie-jian" aria-label="Permalink to &quot;快捷键&quot;">​</a></h2><table tabindex="0"><thead><tr><th>操作</th><th>Mac 快捷键</th><th>Windows 快捷键</th></tr></thead><tbody><tr><td>查找</td><td><code>Command + F</code></td><td><code>Ctrl + F</code></td></tr><tr><td>替换</td><td><code>Option + Command + F</code></td><td></td></tr></tbody></table><h2 id="kuai-jie-cao-zuo" tabindex="-1">快捷操作 <a class="header-anchor" href="#kuai-jie-cao-zuo" aria-label="Permalink to &quot;快捷操作&quot;">​</a></h2><h3 id="tiao-zhuan-dan-cixing-shou-huo-xing-wei" tabindex="-1">跳转单词、行首或行尾 <a class="header-anchor" href="#tiao-zhuan-dan-cixing-shou-huo-xing-wei" aria-label="Permalink to &quot;跳转单词、行首或行尾&quot;">​</a></h3><table tabindex="0"><thead><tr><th>操作</th><th>Mac 快捷键</th><th>Windows 快捷键</th></tr></thead><tbody><tr><td>跳转到当前光标前的一个单词</td><td><code>Option + Left</code></td><td></td></tr><tr><td>跳转到当前光标后的一个单词</td><td><code>Option + Right</code></td><td></td></tr><tr><td>跳转到当前行首</td><td><code>Command + Left</code></td><td></td></tr><tr><td>跳转到当前行尾</td><td><code>Command + Right</code></td><td></td></tr></tbody></table><h3 id="xuan-zhong-zi-fudan-ci-huo-xing" tabindex="-1">选中字符、单词或行 <a class="header-anchor" href="#xuan-zhong-zi-fudan-ci-huo-xing" aria-label="Permalink to &quot;选中字符、单词或行&quot;">​</a></h3><table tabindex="0"><thead><tr><th>操作</th><th>Mac 快捷键</th><th>Windows 快捷键</th></tr></thead><tbody><tr><td>选中当前光标前的一个字符</td><td><code>Shift + Left</code></td><td></td></tr><tr><td>选中当前光标后的一个字符</td><td><code>Shift + Right</code></td><td></td></tr><tr><td>选中当前光标前的一个单词</td><td><code>Option + Shift + Left</code></td><td></td></tr><tr><td>选中当前光标后的一个单词</td><td><code>Option + Shift + Right</code></td><td></td></tr><tr><td>选中当前光标前直到行首</td><td><code>Command + Shift + Left</code></td><td></td></tr><tr><td>选中当前光标后直到行尾</td><td><code>Command + Shift + Right</code></td><td></td></tr></tbody></table><h3 id="duo-guang-biao-xuan-ze-he-bian-ji" tabindex="-1">多光标选择和编辑 <a class="header-anchor" href="#duo-guang-biao-xuan-ze-he-bian-ji" aria-label="Permalink to &quot;多光标选择和编辑&quot;">​</a></h3><p><a href="https://code.visualstudio.com/docs/editor/codebasics#_multiple-selections-multicursor" target="_blank" rel="noreferrer">Multiple selections (multi-cursor)</a></p><p><a href="https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier" target="_blank" rel="noreferrer">Multi-cursor modifier</a></p><h2 id="python-kai-fa-huan-jing-pei-zhi" tabindex="-1">Python 开发环境配置 <a class="header-anchor" href="#python-kai-fa-huan-jing-pei-zhi" aria-label="Permalink to &quot;Python 开发环境配置&quot;">​</a></h2><h3 id="python-bao-lu-jing" tabindex="-1">Python 包路径 <a class="header-anchor" href="#python-bao-lu-jing" aria-label="Permalink to &quot;Python 包路径&quot;">​</a></h3><p>通过快捷键 <code>Command + Shift + P</code> 打开命令面板，输入 <code>wj</code> ，找到 <code>Preferences: Open Workspace Settings (JSON)</code> 并点击，会在当前窗口打开 <code>.vscode/settings.json</code> 文件，添加如下配置：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;python.autoComplete.extraPaths&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;/path/to/your/python/packages&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;python.analysis.extraPaths&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;/path/to/your/python/packages&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><a href="https://code.visualstudio.com/docs/python/settings-reference#_autocomplete-settings" target="_blank" rel="noreferrer">AutoComplete settings</a></li><li><a href="https://code.visualstudio.com/docs/python/settings-reference#_python-language-server-settings" target="_blank" rel="noreferrer">Python Language Server settings</a></li></ul><h2 id="chi-xian-ben-di-an-zhuang" tabindex="-1">离线本地安装 <a class="header-anchor" href="#chi-xian-ben-di-an-zhuang" aria-label="Permalink to &quot;离线本地安装&quot;">​</a></h2><p>在远程服务器离线安装 vscode-server (stable,insider)</p><p>在vscode客户端 -&gt; <code>help</code> -&gt; <code>about</code> 中获取 <code>commit_id</code> 如下</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Commit:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${commit_id}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ...</span></span></code></pre></div><p>根据 <code>commit_id</code> 下载下列文件（如果是 insider 版本，需要替换 stable 为 insider）</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># x64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://vscode.download.prss.microsoft.com/dbazure/download/stable/$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{commit_id}</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/vscode-server-linux-x64.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://update.code.visualstudio.com/commit:$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{commit_id}</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/cli-alpine-x64/stable</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># arm64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://vscode.download.prss.microsoft.com/dbazure/download/stable/$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{commit_id}</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/vscode-server-linux-arm64.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://update.code.visualstudio.com/commit:$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{commit_id}</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/cli-alpine-arm64/stable</span></span></code></pre></div><ul><li><p>第一个文件 <code>vscode-server-linux-\${arch}.tar.gz</code> 解压解包后名为 <code>vscode-server-linux-\${arch}</code> 文件夹<strong>改名为 <code>server</code> 放在 <code>~/.vscode-server/cli/servers/Stable-\${commit_id}</code> 目录下</strong></p></li><li><p>第二个文件 <code>vscode_cli_alpine_\${arch}_cli.tar.gz</code> 解压解包后名为 <code>code</code> 的文件<strong>改名为 <code>code-\${commit_id}</code></strong> 放在<code>~/.vscode-server/</code>目录下</p></li></ul><p>code-insiders-5d24d0fea3ffc65b824989dda916714a46ca97a7</p><p>Insiders-5d24d0fea3ffc65b824989dda916714a46ca97a7</p><p>可以参考如下脚本</p><details class="details custom-block"><summary>点击查看代码</summary><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ====================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   Variables</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ====================</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMMIT_ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3b5110391dffc18e9983d33d6340c5c8e642f3a8&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x64&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stable&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSIONU</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Stable&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果 COMMIT_ID 为空，报错退出</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMMIT_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;COMMIT_ID is empty, please set it first.&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果 ARCH 为空 或者非 x64 或者 arm64，报错退出</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;x64&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ] &amp;&amp; [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;arm64&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ARCH is empty or not x64 or arm64, please set it first.&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VscodeServerUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://vscode.download.prss.microsoft.com/dbazure/download/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMMIT_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/vscode-server-linux-\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.tar.gz&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VscodeClientUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://vscode.download.prss.microsoft.com/dbazure/download/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMMIT_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/vscode_cli_alpine_\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}_cli.tar.gz&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .vscode-server ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .vscode-server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- 1. 下载 vscode-server</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VscodeServerFileName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vscode-server-linux-\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VscodeServerTargetDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.vscode-server/cli/servers/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VERSIONU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}-\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMMIT_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $VscodeServerTargetDir</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeServerFileName}.tar.gz ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeServerFileName}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.tar.gz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeServerUrl}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeServerFileName}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.tar.gz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeServerFileName} $VscodeServerTargetDir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/server</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- 2. 下载 vscode-cli</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VscodeClientFileName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vscode_cli_alpine_\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ARCH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}_cli&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeClientFileName}.tar.gz ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeClientFileName}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.tar.gz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeClientUrl}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeClientFileName}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .vscode-server/code-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${COMMIT_ID}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -czf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vscode-server.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .vscode-server</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- 清理资源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .vscode-server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeServerFileName}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${VscodeClientFileName}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># chmod -R 700 /home/\${user}/.vscode-server/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># chmod -R 700 ~/.vscode-server/</span></span></code></pre></div></details>`,44)]))}const u=i(p,[["render",r]]);export{F as __pageData,u as default};
