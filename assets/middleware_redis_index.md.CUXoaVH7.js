import{_ as s,c as a,o as e,ag as h}from"./chunks/framework.ko2zIC2c.js";const c=JSON.parse('{"title":"Redis","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"middleware/redis/index.md","filePath":"middleware/redis/index.md","lastUpdated":1744732485000}'),l={name:"middleware/redis/index.md"};function t(n,i,d,p,k,o){return e(),a("div",null,i[0]||(i[0]=[h(`<h1 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-label="Permalink to &quot;Redis&quot;">​</a></h1><h2 id="redis-jian-jie" tabindex="-1">Redis 简介 <a class="header-anchor" href="#redis-jian-jie" aria-label="Permalink to &quot;Redis 简介&quot;">​</a></h2><p>Redis 是 Remote Dictionary Server（远程字典服务器）的缩写，是一个开源的使用 ANSI C 语言编写、支持网络、可<strong>基于内存</strong>亦可持久化的日志型、Key-Value 数据库，并提供多种语言的 API。</p><h2 id="redis-an-zhuang" tabindex="-1">Redis 安装 <a class="header-anchor" href="#redis-an-zhuang" aria-label="Permalink to &quot;Redis 安装&quot;">​</a></h2><p>在 Ubuntu 上安装 Redis 可以使用以下命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis-server</span></span></code></pre></div><h2 id="redis-pei-zhi" tabindex="-1">Redis 配置 <a class="header-anchor" href="#redis-pei-zhi" aria-label="Permalink to &quot;Redis 配置&quot;">​</a></h2><h2 id="redis-ji-ben-ming-ling" tabindex="-1">Redis 基本命令 <a class="header-anchor" href="#redis-ji-ben-ming-ling" aria-label="Permalink to &quot;Redis 基本命令&quot;">​</a></h2><p>Redis 中的变量命令主要有以下几个：</p><ul><li><code>SET</code>：设置指定 key 的值</li><li><code>GET</code>：获取指定 key 的值</li><li><code>DEL</code>：删除指定 key</li><li><code>FLUSHALL</code>：删除所有 key</li><li><code>EXISTS</code>：判断 key 是否存在</li><li><code>EXPIRE</code>：设置 key 的过期时间</li><li><code>TTL</code>：获取 key 的过期时间</li><li><code>PERSIST</code>：移除 key 的过期时间</li><li><code>KEYS</code>：获取所有 key，可以使用通配符</li><li><code>RENAME</code>：重命名 key</li><li><code>TYPE</code>：获取 key 的类型</li><li><code>APPEND</code>：追加字符串</li><li><code>STRLEN</code>：获取字符串长度</li><li><code>INCR</code>：自增</li></ul><h3 id="ji-ben-cao-zuo" tabindex="-1">基本操作 <a class="header-anchor" href="#ji-ben-cao-zuo" aria-label="Permalink to &quot;基本操作&quot;">​</a></h3><p>Redis 中使用 key-value 存储数据，<code>SET</code> 命令用于设置指定 key 的值。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 完整语法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [NX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XX]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [GET] [EX seconds</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PX milliseconds</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EXAT unix-time-seconds</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PXAT unix-time-milliseconds</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KEEPTTL]</span></span></code></pre></div><p>使用 <code>GET</code> 命令获取 key 的值：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span></span></code></pre></div><p>Redis 的 key 是区分大小写的，所以 <code>key</code> 和 <code>Key</code> 是两个不同的 key。</p><p>Redis 默认使用字符串存储键和值，而且是二进制安全的，所以 <code>value</code> 可以是字符串、数字、布尔值、序列化对象等。</p><p>Redis</p><h3 id="guo-qi-shi-jian" tabindex="-1">过期时间 <a class="header-anchor" href="#guo-qi-shi-jian" aria-label="Permalink to &quot;过期时间&quot;">​</a></h3><p>Redis 中可以为 key 设置过期时间，使用 <code>EXPIRE</code> 命令设置 key 的过期时间：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EXPIRE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span></span></code></pre></div><p>使用 <code>TTL</code> 命令获取 key 的过期时间：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TTL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span></span></code></pre></div><p>使用 <code>PERSIST</code> 命令移除 key 的过期时间：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PERSIST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span></span></code></pre></div><p>也可以在设置的时候直接设置过期时间：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SETEX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value</span></span></code></pre></div><h2 id="shi-da-shu-ju-lei-xing" tabindex="-1">十大数据类型 <a class="header-anchor" href="#shi-da-shu-ju-lei-xing" aria-label="Permalink to &quot;十大数据类型&quot;">​</a></h2><h2 id="shi-wu" tabindex="-1">事务 <a class="header-anchor" href="#shi-wu" aria-label="Permalink to &quot;事务&quot;">​</a></h2><h2 id="shu-ju-chi-jiu-hua" tabindex="-1">数据持久化 <a class="header-anchor" href="#shu-ju-chi-jiu-hua" aria-label="Permalink to &quot;数据持久化&quot;">​</a></h2><h2 id="zhu-cong-fu-zhi" tabindex="-1">主从复制 <a class="header-anchor" href="#zhu-cong-fu-zhi" aria-label="Permalink to &quot;主从复制&quot;">​</a></h2><h2 id="shao-bing-mo-shi" tabindex="-1">哨兵模式 <a class="header-anchor" href="#shao-bing-mo-shi" aria-label="Permalink to &quot;哨兵模式&quot;">​</a></h2>`,32)]))}const u=s(l,[["render",t]]);export{c as __pageData,u as default};
