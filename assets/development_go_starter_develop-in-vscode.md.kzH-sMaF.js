import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.ko2zIC2c.js";const e="/assets/vscode-go-tools.BaQoViJu.png",F=JSON.parse('{"title":"在 VSCode 开发 Go","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"development/go/starter/develop-in-vscode.md","filePath":"development/go/starter/develop-in-vscode.md","lastUpdated":1745680375000}'),l={name:"development/go/starter/develop-in-vscode.md"};function h(p,s,k,o,d,r){return t(),a("div",null,s[0]||(s[0]=[n('<h1 id="zai-vscode-kai-fa-go" tabindex="-1">在 VSCode 开发 Go <a class="header-anchor" href="#zai-vscode-kai-fa-go" aria-label="Permalink to &quot;在 VSCode 开发 Go&quot;">​</a></h1><h2 id="cha-jian-he-yi-lai" tabindex="-1">插件和依赖 <a class="header-anchor" href="#cha-jian-he-yi-lai" aria-label="Permalink to &quot;插件和依赖&quot;">​</a></h2><p>VSCode 需要安装如下插件，可以在命令面板(<code>Ctrl+Shift+P</code>)中搜索 <code>Go: Install/Update Tools</code> 安装</p><p><img src="'+e+`" alt="vscode-go-tools"></p><table tabindex="0"><thead><tr><th>工具名称</th><th>功能描述</th></tr></thead><tbody><tr><td><a href="https://github.com/golang/tools/blob/master/gopls/README.md#installation" target="_blank" rel="noreferrer"><code>gopls</code></a></td><td>Go 语言的语言服务器，提供代码补全、跳转、重命名等功能</td></tr><tr><td><a href="https://github.com/cweill/gotests" target="_blank" rel="noreferrer"><code>gotests</code></a></td><td>用于自动生成测试代码的工具</td></tr><tr><td><a href="https://github.com/fatih/gomodifytags" target="_blank" rel="noreferrer"><code>gomodifytags</code></a></td><td>用于修改结构体标签的工具</td></tr><tr><td><a href="https://github.com/josharian/impl" target="_blank" rel="noreferrer"><code>impl</code></a></td><td>用于自动生成接口实现的工具</td></tr><tr><td><a href="https://github.com/haya14busa/goplay" target="_blank" rel="noreferrer"><code>goplay</code></a></td><td>用于在浏览器中运行 Go 代码的工具</td></tr><tr><td><a href="https://github.com/go-delve/delve" target="_blank" rel="noreferrer"><code>dlv</code></a></td><td>Go 语言的调试器</td></tr><tr><td><a href="https://github.com/dominikh/go-tools" target="_blank" rel="noreferrer"><code>staticcheck</code></a></td><td>Go 语言的静态分析工具</td></tr></tbody></table><p>如果存在网络问题，可以手动使用下面命令手动安装，或者参照各个工具的手动安装手册，下载源码编译安装</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> golang.org/x/tools/gopls@latest</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  github.com/cweill/gotests/...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/fatih/gomodifytags@latest</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/josharian/impl@latest</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># go get -u  github.com/haya14busa/goplay            # as a Library</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  github.com/haya14busa/goplay/cmd/goplay</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # as a command line tool</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/go-delve/delve/cmd/dlv@latest</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> honnef.co/go/tools/cmd/staticcheck@latest</span></span></code></pre></div><h2 id="duan-dian-diao-shi" tabindex="-1">断点调试 <a class="header-anchor" href="#duan-dian-diao-shi" aria-label="Permalink to &quot;断点调试&quot;">​</a></h2><p>vscode 还有一项很强大的功能就是断点调试,结合 delve 可以很好的进行 Go 代码调试</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/peterh/liner</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/derekparker/delve/cmd/dlv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> go-delve/delve/delve</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # mac 可以使用 brew 安装</span></span></code></pre></div><p>如果有问题再来一遍:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/peterh/liner</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/derekparker/delve/cmd/dlv</span></span></code></pre></div><p>注意:修改&quot;dlv-cert&quot;证书, 选择&quot;显示简介&quot;-&gt;&quot;信任&quot;-&gt;&quot;代码签名&quot; 修改为: 始终信任</p><p>打开首选项-工作区设置,配置launch.json:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;configurations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main.go&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;go&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;launch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;debug&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;remotePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2345</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;program&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${workspaceRoot}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 工作空间路径</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;args&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;showLog&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,15)]))}const c=i(l,[["render",h]]);export{F as __pageData,c as default};
