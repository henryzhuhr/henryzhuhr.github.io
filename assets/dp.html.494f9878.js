import{_ as s,o as a,c as n,a as p}from"./app.e2a6bb87.js";var t="/assets/dp-01pack-dp_array.d06039c2.svg",e="/assets/algorithm-dp-buy_and_sell_stocks_state_machine.53a764ce.png",l="/assets/algorithm-dp-buy_and_sell_stocks_with_frozen_state_machine.09cc20f2.png";const c={},i=p('<h1 id="\u52A8\u6001\u89C4\u5212" tabindex="-1"><a class="header-anchor" href="#\u52A8\u6001\u89C4\u5212" aria-hidden="true">#</a> \u52A8\u6001\u89C4\u5212</h1><p><strong>\u52A8\u6001\u89C4\u5212 (Dynamic Programming, DP)</strong> \uFF0C\u5982\u679C\u67D0\u4E00\u95EE\u9898<strong>\u6709\u5F88\u591A\u91CD\u53E0\u5B50\u95EE\u9898</strong>\uFF0C\u4F7F\u7528\u52A8\u6001\u89C4\u5212\u662F\u6700\u6709\u6548\u7684\u3002</p><p>\u6240\u4EE5\u52A8\u6001\u89C4\u5212\u4E2D<strong>\u6BCF\u4E00\u4E2A\u72B6\u6001\u4E00\u5B9A\u662F\u7531\u4E0A\u4E00\u4E2A\u72B6\u6001\u63A8\u5BFC\u51FA\u6765\u7684</strong>\uFF0C\u8FD9\u4E00\u70B9\u5C31\u533A\u5206\u4E8E\u8D2A\u5FC3\uFF0C\u8D2A\u5FC3\u6CA1\u6709\u72B6\u6001\u63A8\u5BFC\uFF0C\u800C\u662F\u4ECE\u5C40\u90E8\u76F4\u63A5\u9009\u6700\u4F18\u7684\uFF0C</p><ul><li>\u52A8\u89C4 \u662F<strong>\u7531\u524D\u4E00\u4E2A\u72B6\u6001\u63A8\u5BFC\u51FA\u6765\u7684</strong></li><li>\u8D2A\u5FC3 \u662F<strong>\u5C40\u90E8\u76F4\u63A5\u9009\u6700\u4F18\u7684</strong></li></ul><h3 id="\u72B6\u6001\u8F6C\u79FB\u516C\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u72B6\u6001\u8F6C\u79FB\u516C\u5F0F" aria-hidden="true">#</a> \u72B6\u6001\u8F6C\u79FB\u516C\u5F0F</h3><h3 id="\u{1F392}-01\u80CC\u5305\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u{1F392}-01\u80CC\u5305\u95EE\u9898" aria-hidden="true">#</a> \u{1F392} 01\u80CC\u5305\u95EE\u9898</h3><p>01\u80CC\u5305\u95EE\u9898\u5982\u4E0B\uFF1A\u6709 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> \u4EF6\u7269\u54C1\u548C\u4E00\u4E2A\u6700\u591A\u80FD\u80CC\u91CD\u91CF\u4E3A <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span> \u7684\u80CC\u5305\u3002\u7B2C <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u4EF6\u7269\u54C1\u7684\u91CD\u91CF\u662F <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> \uFF0C\u4EF7\u503C\u662F <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> \u3002\u6BCF\u4EF6\u7269\u54C1\u53EA\u80FD\u7528\u4E00\u6B21\uFF0C\u6C42\u89E3\u5C06\u54EA\u4E9B\u7269\u54C1\u88C5\u5165\u80CC\u5305\u91CC\u7269\u54C1<strong>\u4EF7\u503C\u603B\u548C\u6700\u5927</strong>\u3002</p><p><img src="'+t+`" alt="01\u80CC\u5305\u95EE\u9898\u4E2D\u7684dp\u6570\u7EC4"></p><p>\u53EF\u4EE5\u5B9A\u4E49\u4E00\u4E2A\u9012\u63A8\u516C\u5F0F <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> \uFF0C\u5176\u4E2D <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span></span></span></span> \uFF0C\u8868\u793A\u524D <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u4EF6\u7269\u54C1\u6070\u653E\u5165\u4E00\u4E2A\u5BB9\u91CF\u4E3A <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> \u7684\u80CC\u5305\u53EF\u4EE5\u83B7\u5F97\u7684<strong>\u6700\u5927\u4EF7\u503C</strong>\u3002\u5219\u5176\u72B6\u6001\u8F6C\u79FB\u65B9\u7A0B\u53EF\u4EE5\u4ECE\u4E24\u4E2A\u89D2\u5EA6\u8003\u8651\uFF1A</p><ul><li><p><strong>\u4E0D\u653E\u5165\u7B2C <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u4EF6\u7269\u54C1</strong>\uFF0C\u90A3\u4E48\u5F53\u524D\u7684\u6700\u5927\u4EF7\u503C <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> \u5C31\u662F <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> \u3002<strong>\u5176\u5B9E\u5C31\u662F\u5F53\u7269\u54C1 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u7684\u91CD\u91CF\u5927\u4E8E\u80CC\u5305 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> \u7684\u91CD\u91CF\u65F6\uFF0C\u7269\u54C1 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u65E0\u6CD5\u653E\u8FDB\u80CC\u5305\u4E2D\uFF0C\u6240\u4EE5\u80CC\u5305\u5185\u7684\u4EF7\u503C\u4F9D\u7136\u548C\u524D\u9762\u76F8\u540C\u3002</strong></p></li><li><p><strong>\u653E\u5165\u7B2C <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u4EF6\u7269\u54C1</strong>\uFF0C\u90A3\u4E48 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> \u53EF\u4EE5\u4ECE <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> \u63A8\u51FA\u3002\u56E0\u4E3A\u653E\u5165\u7B2C <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u4EF6\u7269\u54C1\uFF0C\u80CC\u5305\u5269\u4F59\u5BB9\u91CF\u4E3A <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> \uFF0C\u90A3\u4E48\u6700\u5927\u4EF7\u503C\u7531 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> \u548C\u7B2C <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> \u4EF6\u7269\u54C1\u7684\u4EF7\u503C <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> \u7EC4\u6210</p></li></ul><p><span id="dp-01pack-state_transition_eq"></span> \u56E0\u6B64\uFF0C\u72B6\u6001\u8F6C\u79FB\u65B9\u7A0B\u4E3A</p><p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">\u2212</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace">\xA0</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">\u2265</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>\u5982\u679C\u7B2C <code>i</code> \u4EF6\u7269\u54C1\u7684\u91CD\u91CF\u662F <code>weight[i]</code> \uFF0C\u4EF7\u503C\u662F<code>value[i]</code>\uFF0C\u90A3\u4E48\u72B6\u6001\u8F6C\u79FB\u65B9\u7A0B\u53EF\u4EE5\u5199\u6210\uFF1A</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>
  dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>                       <span class="token comment">// 0 \u4E0D\u653E</span>
  dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment">// 1 \u653E\u5165</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u51FA <code>i</code> \u662F\u7531 <code>i-1</code> \u63A8\u5BFC\u51FA\u6765\uFF0C\u90A3\u4E48 <code>i=0</code> \u7684\u65F6\u5019\u5C31\u4E00\u5B9A\u8981\u521D\u59CB\u5316\uFF0C\u56E0\u4E3A\u80CC\u5305\u5BB9\u91CF\u4E3A 0 \u65F6\uFF0C\u65E0\u6CD5\u653E\u5165\u4EFB\u4F55\u7269\u54C1\uFF0C\u56E0\u6B64\u4EF7\u503C\u4E3A 0</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">dp</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>bagweight <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weight<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u904D\u5386\u7269\u54C1</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> bagweight<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// \u904D\u5386\u80CC\u5305\u5BB9\u91CF</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment">// \u5982\u679C\u80CC\u5305\u5BB9\u91CF\u5C0F\u4E8E\u7269\u54C1\u91CD\u91CF\uFF0C</span>
      dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// \u90A3\u4E48\u7269\u54C1i\u65E0\u6CD5\u653E\u8FDB\u80CC\u5305\u4E2D\uFF0C\u76F4\u63A5\u590D\u5236\u4E0A\u4E00\u5C42</span>
    <span class="token keyword">else</span>                      <span class="token comment">// \u5426\u5219\uFF0C\u5C31\u8981\u8003\u8651\u653E\u5165\u7269\u54C1i\u7684\u60C5\u51B5</span>
      dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>
        dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>                     <span class="token comment">// \u4E0D\u653E</span>
        dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment">// \u653E\u5165</span>
        <span class="token comment">// \u653E\u8FDB\u53BB\u7684\u8BDD\uFF0C\u8003\u8651\u4E0A\u4E00\u5C42\u80CC\u5305\u5BB9\u91CF\u51CF\u53BB\u7269\u54C1i\u7684\u91CD\u91CF\uFF0C\u52A0\u4E0A\u7269\u54C1i\u7684\u4EF7\u503C</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91C7\u7528\u4E00\u4E2A\u4E8C\u7EF4\u6570\u7EC4\uFF0C\u56E0\u6B64\u7A7A\u95F4\u590D\u6742\u5EA6\u4E3A <code>O(nc)</code> \uFF0C\u5176\u4E2D <code>n</code> \u662F\u7269\u54C1\u4E2A\u6570\uFF0C <code>c</code> \u662F\u80CC\u5305\u5BB9\u91CF\u3002\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A <code>O(nc)</code> z</p><p>\u4ECE<a href="#dp-01pack-state_transition_eq">\u72B6\u6001\u8F6C\u79FB\u65B9\u7A0B</a>\u53EF\u4EE5\u770B\u51FA\uFF0C<code>dp[i][j]</code> \u7684\u66F4\u65B0\u53EA\u4E0E <code>dp[i-1][*]</code> \u6709\u5173\uFF0C\u5176\u5B9E\u53EF\u4EE5\u53D1\u73B0\u5982\u679C\u628A <code>dp[i-1]</code> \u90A3\u4E00\u5C42\u62F7\u8D1D\u5230 <code>dp[i]</code> \u4E0A\uFF0C\u8868\u8FBE\u5F0F\u5B8C\u5168\u53EF\u4EE5\u662F\uFF1A</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>dp \u6570\u7EC4\u5728\u63A8\u5BFC\u7684\u65F6\u5019\u4E00\u5B9A\u662F\u53D6\u4EF7\u503C\u6700\u5927\u7684\u6570\uFF0C\u5982\u679C\u9898\u76EE\u7ED9\u7684\u4EF7\u503C\u90FD\u662F\u6B63\u6574\u6570\u90A3\u4E48<strong>\u975E0\u4E0B\u6807</strong>\u90FD\u521D\u59CB\u5316\u4E3A0\u5C31\u53EF\u4EE5\u4E86\u3002</li><li>\u904D\u5386\u7684\u65F6\u5019\u4E00\u5B9A\u9700\u8981<strong>\u5012\u5E8F</strong>\uFF0C\u56E0\u4E3A\u4E8C\u7EF4\u6570\u7EC4\u7528\u5230 <code>i-1</code> \uFF0C\u6240\u4EE5\u5FC5\u987B\u5012\u53D9\u904D\u5386\u80CC\u5305\uFF0C\u4E0D\u7136 <code>i-1</code> \u4F1A\u88AB\u8986\u76D6</li></ul><blockquote><p>\u5012\u5E8F\u904D\u5386\u662F\u4E3A\u4E86\u4FDD\u8BC1\u7269\u54C1i\u53EA\u88AB\u653E\u5165\u4E00\u6B21\uFF01\u3002\u4F46\u5982\u679C\u4E00\u65E6\u6B63\u5E8F\u904D\u5386\u4E86\uFF0C\u90A3\u4E48\u7269\u54C10\u5C31\u4F1A\u88AB\u91CD\u590D\u52A0\u5165\u591A\u6B21\uFF01</p><p>\u53EF\u4EE5\u53C2\u8003 <a href="https://zhuanlan.zhihu.com/p/540378850" target="_blank" rel="noopener noreferrer">\u201C\u80CC\u5305\u95EE\u9898\uFF0801\u80CC\u5305+\u6EDA\u52A8\u6570\u7EC4+\u5B8C\u5168\u80CC\u5305\uFF09\u201D</a>\uFF0C\u8003\u8651 <code>j</code> \u548C <code>2j</code> \u7684\u9012\u63A8: <code>dp[ j] = max(dp[ j], dp[ j-weight[i]]+value[i]);</code>\uFF1A</p></blockquote><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span> j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">2</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5F53 j = weight[i] \u8FD9\u4E2A\u7279\u6B8A\u60C5\u51B5</span>
dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span> j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">2</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u53EF\u4EE5\u770B\u5230\uFF0C weight[i] \u88AB\u91CD\u590D\u653E\u8FDB\u4E86\u4E24\u6B21</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F18\u5316\u540E\u7684\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">dp</span><span class="token punctuation">(</span>bagWeight <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weight<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// \u904D\u5386\u7269\u54C1</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> bagWeight<span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u904D\u5386\u80CC\u5305\u5BB9\u91CF(\u5012\u5E8F)</span>
      dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>
        dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>                       <span class="token comment">// \u4E0D\u653E</span>
        dp<span class="token punctuation">[</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment">// \u653E\u5165</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u5982\u679C\u65B9\u6848\u548C\uFF0C\u90A3\u4E48\u5C31\u628A\u4E0D\u653E\u548C\u653E\u7684\u52A0\u8D77\u6765</span>
      <span class="token comment">// dp[j] = dp[j] + dp[j - weight[i]] (+ value[i]);</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>01 \u80CC\u5305\u4E2D\u7EC4\u5408\u6570\u95EE\u9898</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">/**
 * \u5F53 1\u2264i\u2264n\u65F6\uFF0C\u5BF9\u4E8E\u6570\u7EC4 nums \u4E2D\u7684\u7B2C i\uFF0C\u904D\u5386 0\u2264j\u2264neg\uFF0C\u8BA1\u7B97 dp[i][j]\uFF1A
 * \u5982\u679C j&lt;num\uFF0C\u5219\u4E0D\u80FD\u9009 num\uFF0C  \u6B64\u65F6\u6709 dp[i][j]=dp[i-1][j]\uFF1B
 * \u5982\u679C j\u2265num\uFF0C
 *  - \u4E0D\u9009  num \u65B9\u6848\u6570\u662F dp[i-1][j]
 *  - \u9009    num \u65B9\u6848\u6570\u662F dp[i-1][j-num]\uFF0C
 * \u6B64\u65F6\u6709 dp[i][j] = dp[i-1][j] + dp[i-1][j-num]
 *
 * \u88C5\u6EE1\u80CC\u5305\u6709\u51E0\u79CD\u65B9\u6CD5\u7684\u9012\u63A8\u516C\u5F0F
 */</span>
dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * \u8868\u793A \u5DF2\u7ECF \u6709 nums[i] \u65F6\uFF0C\u6709 dp[j - nums[i]] \u79CD\u65B9\u6CD5\u51D1\u6210 j
 * \u4F8B\u5982\uFF1Adp[j]\uFF0Cj \u4E3A5\uFF0C
 * nums[i] = 1 , \u6709 dp[5-1] = dp[4] \u79CD\u65B9\u6CD5\u51D1\u6210 5
 * nums[i] = 2 , \u6709 dp[5-2] = dp[3] \u79CD\u65B9\u6CD5\u51D1\u6210 5
 * ...
 * dp[j] \u5B9A\u4E49\u5C31\u662F\u51D1\u6210\u548C\u4E3A j \u6709\u591A\u5C11\u79CD\u65B9\u6848
 * \u521D\u59CB\u4E3A dp[0] = 1 \uFF0C\u56E0\u4E3A\u4E0D\u53D6\u4EFB\u4F55\u6570\uFF0C\u548C\u5C31\u662F 0 (\u552F\u4E00\u65B9\u6848)
 */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u{1F3E0}-\u6253\u5BB6\u52AB\u820D\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u{1F3E0}-\u6253\u5BB6\u52AB\u820D\u95EE\u9898" aria-hidden="true">#</a> \u{1F3E0} \u6253\u5BB6\u52AB\u820D\u95EE\u9898</h3><h3 id="\u{1F4C8}-\u4E70\u5356\u80A1\u7968\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u{1F4C8}-\u4E70\u5356\u80A1\u7968\u95EE\u9898" aria-hidden="true">#</a> \u{1F4C8} \u4E70\u5356\u80A1\u7968\u95EE\u9898</h3><p>\u4F7F\u7528\u52A8\u6001\u89C4\u5212\u7684\u65B9\u6CD5\uFF0C\u7EF4\u62A4\u5728\u80A1\u5E02\u4E2D\u6BCF\u4E00\u5929\u7ED3\u675F\u540E\u53EF\u4EE5\u83B7\u5F97\u7684\u300C\u7D2F\u8BA1\u6700\u5927\u6536\u76CA\u300D\uFF0C\u5E76\u4EE5\u6B64\u8FDB\u884C\u72B6\u6001\u8F6C\u79FB</p><p><img src="`+e+`" alt="\u4E70\u5356\u80A1\u7968\u7684\u72B6\u6001\u673A"></p><p>\u4E70\u5356\u80A1\u7968\u662F\u4E00\u4E2A\u72B6\u6001\u673A(<code>s_k[i]</code>\u72B6\u6001\u7531 <code>i-1</code> \u65F6\u523B\u72B6\u6001\u8F6C\u79FB\u5F97\u5230)</p><ul><li><strong>\u8FB9\u754C\u6761\u4EF6</strong>: <ul><li><code>s0[0] = 0 </code>: \u7B2C0\u5929\u4E0D\u6301\u6709\u80A1\u7968\uFF0C\u90A3\u4E48\u5229\u6DA6\u4E3A 0</li><li><code>s1[0] = INT_MIN</code>: \u7B2C0\u5929\u6301\u6709\u80A1\u7968\u662F\u4E0D\u5408\u6CD5\u7684\uFF0C\u6240\u4EE5\u521D\u59CB\u5316\u4E3A <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">\u2212</span><span class="mord">\u221E</span></span></span></span> \uFF0C\u8FD9\u6837\u53D6 <code>max()</code> \u5C31\u4F1A\u8F6C\u5316\u6210\u5408\u6CD5\u72B6\u6001</li></ul></li></ul><p><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/solutions/685426/zui-jian-dan-2-ge-bian-liang-jie-jue-suo-71fe/" target="_blank" rel="noopener noreferrer">\u53C2\u8003\u7B97\u6CD5</a>:</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// \u4F60\u6700\u591A\u53EF\u4EE5\u5B8C\u6210 k \u6B21\u4EA4\u6613</span>
<span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> prices<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">s1</span><span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> INT_MIN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// \u6EDA\u52A8\u6570\u7EC4</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">s0</span><span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// \u6EDA\u52A8\u6570\u7EC4</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> price <span class="token operator">:</span> prices<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>          <span class="token comment">// \u4ECA\u5929 \u6301\u6709 \u72B6\u6001</span>
                s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token comment">// 0 \u4E0D\u4E70\u4E0D\u5356\uFF08\u72B6\u6001\u4FDD\u6301\uFF09</span>
                s0<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> price <span class="token comment">// 1 \u4E70\u5165 \uFF08\u53EA\u80FD\u7531s0[i-1]\u8F6C\u79FB\u5F97\u5230\uFF09</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            s0<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>          <span class="token comment">// \u4ECA\u5929 \u4E0D\u6301 \u72B6\u6001</span>
                s0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token comment">// 0 \u4E0D\u6301\u6709 \uFF08\u72B6\u6001\u4FDD\u6301\uFF09</span>
                s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> price     <span class="token comment">// 1 \u5356\u51FA \uFF08\u53EA\u80FD\u7531s1[i-1]\u8F6C\u79FB\u5F97\u5230\uFF09</span>
                <span class="token comment">// \u7591\u60D1\u7684\u662F\uFF0C\u8FD9\u91CC\u7528\u5230\u4E86 s1[i] \uFF0C\u662F\u521A\u624D\u66F4\u65B0\u7684\u72B6\u6001</span>
                <span class="token comment">// \u5B9E\u9645\u4E0A\u8868\u793A\uFF0C\u4ECA\u5929\u4E70\u5165\u540E\u53C8\u5356\u51FA\u4E86\uFF0C\u76F8\u5F53\u4E8E\u6CA1\u6709\u4EA4\u6613</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> no_hold<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u542B\u51B7\u51BB\u671F\u7684\u9898\u76EE\uFF0C\u9700\u8981\u591A\u52A0\u4E00\u4E2A\u72B6\u6001</p><p><img src="`+l+'" alt="\u51B7\u51BB\u671F"></p><h3 id="\u{1F4D0}-\u7F16\u8F91\u8DDD\u79BB" tabindex="-1"><a class="header-anchor" href="#\u{1F4D0}-\u7F16\u8F91\u8DDD\u79BB" aria-hidden="true">#</a> \u{1F4D0} \u7F16\u8F91\u8DDD\u79BB</h3>',37),o=[i];function r(m,u){return a(),n("div",null,o)}var k=s(c,[["render",r],["__file","dp.html.vue"]]);export{k as default};
